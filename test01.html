<!DOCTYPE html>
<html>
   <head>
      <style>


	 /* Add password protection styles */
        #passwordOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        #passwordForm {
            background: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        #passwordInput {
            padding: 10px;
            margin: 15px 0;
            width: 200px;
            font-size: 16px;
        }

        #passwordError {
            color: red;
            margin-top: 10px;
            display: none;
        }	

	 /* Add results popup styling */
        #resultsOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        #resultsPopup {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            width: 300px;
        }

        #resultsMessage {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .popup-button {
            padding: 8px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #checkAnswers {
            background-color: #2196F3;
            color: white;
            margin-top: 20px;
        }

         body {
         font-family: Arial, sans-serif; /* Add Arial font */
         .container {
         display: flex;
         height: 100vh;
         }
         .text-section {
         flex: 1;
         padding: 20px;
         overflow-y: auto;
         border-right: 2px solid #ccc;
         }
         .questions-section {
         flex: 1;
         padding: 20px;
         overflow-y: auto;
         }
         table {
         width: 100%;
         border-collapse: collapse;
         margin-top: 20px;
         }
         th, td {
         border: 1px solid #ddd;
         padding: 8px;
         text-align: left;
         }
         th {
         background-color: #f2f2f2;
         }
         /* Add button styling */
         #showAnswers {
         margin-top: 20px;
         padding: 10px 20px;
         background-color: #4CAF50;
         color: white;
         border: none;
         border-radius: 4px;
         cursor: pointer;
         font-size: 16px;
         }
         #clearAnswers {
         margin-top: 20px;
         padding: 10px 20px;
         background-color: #f44336;
         color: white;
         border: none;
         border-radius: 4px;
         cursor: pointer;
         font-size: 16px;
         }
         .answer-input {
         width: 120px;
         padding: 4px;
         border: 1px solid #999;
         display: inline-block;
         font-family: Arial, sans-serif;
         font-size: 1em; /* Match body text size */	
         }
         .button-group {
         margin-top: 20px;
         display: flex;
         gap: 10px;
         }
         .action-button {
         padding: 10px 20px;
         color: white;
         border: none;
         border-radius: 4px;
         cursor: pointer;
         font-size: 16px;
         }
         .action-button:hover {
         opacity: 0.9;
         }
      </style>
   </head>
   <body>
	<!-- Password Protection Overlay -->
    <div id="passwordOverlay">
        <div id="passwordForm">
            <h2>Enter Password to Access Content</h2>
            <input type="password" id="passwordInput" placeholder="Enter password">
            <br>
            <button onclick="checkPassword()">Submit</button>
            <div id="passwordError">Incorrect password! Please try again.</div>
        </div>
    </div>
 <!-- Existing Content (initially hidden) -->
    <div class="container hidden">
        <!-- ... (keep all previous content) ... -->
    </div>

      <div class="container">
         <div class="text-section">
            <h2>The world's friendliest city</h2>
            <p>A team of social psychologists from California has spent six years studying the reactions of people in cities around the world to different situations. The results show that cities where people have less money generally have friendlier populations. Rio de Janeiro in Brazil, which is often known for its crime, comes out top, and the capital of Malawi, Lilongwe, comes third.</p>
            <p>But what makes one city friendlier than another? The psychologists from California State University say it has got more to do with environment than culture or nationality.</p>
            <p>They carried out a study into the way locals treated strangers in 23 cities around the world. The team conducted their research through a series of tests, where they dropped pens, or pretended they were blind and needed help crossing the street.</p>
            <p>The study concludes that people are more helpful in cities with a more relaxed way of life such as Rio. While they were there, researchers received help in 93 percent of cases, and the percentage in Lilongwe was only a little lower. However, richer cities such as Amsterdam and New York are considered the least friendly. Inhabitants of Amsterdam helped the researchers in 53 percent of cases and in New York just 44 percent. The psychologists found that, in these cities, people tend to be short of time, so they hurry and often ignore strangers.</p>
         </div>
         <div class="questions-section">
            <h2>Questions 1-5</h2>
            <p>Complete the table below.<br>Choose ONE WORD from the passage for each answer.</p>
            <table>
               <tr>
                  <th>City</th>
                  <th>Positive aspects</th>
                  <th>Negative aspects</th>
                  <th>% of help received</th>
               </tr>
               <tr>
                  <td>Rio de Janeiro</td>
                  <td>• friendly inhabitants<br>• more <input type="text" class="answer-input" aria-label="Answer 1"> lifestyle</td>
                  <td>• People don't have so much <input type="text" class="answer-input" aria-label="Answer 2"><br>• Has reputation for <input type="text" class="answer-input" aria-label="Answer 3"></td>
                  <td>93%</td>
               </tr>
               <tr>
                  <td>Amsterdam and New York</td>
                  <td>• richer</td>
                  <td>• have little <input type="text" class="answer-input" aria-label="Answer 4"><br>• don't pay attention to <input type="text" class="answer-input" aria-label="Answer 5"></td>
                  <td>Amsterdam: 53%<br>New York: 44%</td>
               </tr>
            </table>
	<div 
         class="button-group">
	
         <button id="showAnswers" class="action-button" onclick="showAnswers()">Show Answers</button>
         <button id="clearAnswers" class="action-button" onclick="clearAnswers()">Clear Answers</button>
      </div>
         </div>
      </div>
	
	<!-- Results Popup -->
    <div id="resultsOverlay" onclick="closeResults()">
        <div id="resultsPopup" onclick="event.stopPropagation()">
            <div id="resultsMessage"></div>
            <button class="popup-button" onclick="retryAnswers()" style="background-color: #4CAF50;">Retry</button>
            <button class="popup-button" onclick="closeResults()" style="background-color: #f44336;">Close</button>
        </div>
    </div>

      </div>
      <script>

	// Password Configuration
        const CORRECT_PASSWORD = "ielts123";
        let attempts = 0;

        function checkPassword() {
            const input = document.getElementById('passwordInput');
            const error = document.getElementById('passwordError');
            const container = document.querySelector('.container');
            
            if(input.value === CORRECT_PASSWORD) {
                document.getElementById('passwordOverlay').style.display = 'none';
                container.classList.add('unlocked');
            } else {
                attempts++;
                error.style.display = 'block';
                input.value = '';
                if(attempts >= 3) {
                    error.textContent = "Too many failed attempts. Refresh the page to try again.";
                    input.disabled = true;
                }
            }
        }

        // Enter key support
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if(e.key === 'Enter') {
                checkPassword();
            }
        });

	        // New answer checking functionality
        function checkAnswers() {
            const inputs = document.querySelectorAll('.answer-input');
            let correctCount = 0;
            
            inputs.forEach((input, index) => {
                if(input.value.toLowerCase() === answers[index].toLowerCase()) {
                    correctCount++;
                    input.style.borderColor = '#4CAF50';
                } else {
                    input.style.borderColor = '#f44336';
                }
            });

            showResults(correctCount);
        }

        function showResults(correctCount) {
            const resultsOverlay = document.getElementById('resultsOverlay');
            const resultsMessage = document.getElementById('resultsMessage');
            
            resultsMessage.innerHTML = correctCount === answers.length 
                ? '🎉 Congratulations! All answers are correct! 🎉' 
                : `You got ${correctCount} out of ${answers.length} correct!`;
            
            resultsOverlay.style.display = 'flex';
        }

        function retryAnswers() {
            closeResults();
            clearAnswers();
            document.querySelectorAll('.answer-input').forEach(input => {
                input.style.borderColor = '#999';
            });
        }

        function closeResults() {
            document.getElementById('resultsOverlay').style.display = 'none';
        }

        // Add to existing buttons group
        document.querySelector('.button-group').innerHTML = `
            <button id="checkAnswers" class="action-button" onclick="checkAnswers()">Check Answers</button>
            ${document.querySelector('.button-group').innerHTML}
        `;

         // Answer management
         const answers = ["relaxed", "money", "crime", "time", "strangers"];
         
         function showAnswers() {
             const inputs = document.querySelectorAll('.answer-input');
             inputs.forEach((input, index) => input.value = answers[index]);
         }
         
         function clearAnswers() {
             document.querySelectorAll('.answer-input').forEach(input => input.value = '');
         }
         
         
         document.addEventListener('mousedown', (e) => {
             if (highlightButton && !highlightButton.contains(e.target)) {
                 highlightButton.remove();
                 highlightButton = null;
             }
         });
      </script>
   </body>
</html>
